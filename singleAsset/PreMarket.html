{{ block global_scripts }}
        <script src="{{ static 'prevent_back.js' }}"></script>
        <script src="{{ static 'script.js' }}"></script>
        <script>
            $(document).ready(function() {
                // Format money display to show only number without currency sign, with 2 decimal places
                var cashElement = $('#cashHolding');
                var cashValue = cashElement.text();
                // Remove currency symbol and format to 2 decimal places
                var cleanValue = parseFloat(cashValue.replace(/[^\d.-]/g, ''));
                if (!isNaN(cleanValue)) {
                    cashElement.text(cleanValue.toFixed(2));
                }
            });
        </script>
{{ endblock }}

{{ block global_styles }}
        <link rel="stylesheet" href="{{ static 'style.css' }}">
{{ endblock }}

{{ block title }}
Pre Market Information
{{ endblock }}

{{ block content }}
<noscript>
    <div id="jsError">ERROR: this page runs only with javascript enabled</div>
</noscript>

<p style="margin-bottom: 8px;">Soon, {{ if player.round_number <= C.num_trial_rounds }} the trial round {{ else }} trading round {{ round }} {{ endif }} starts.</p><br>
<p style="margin-top: 0px; margin-bottom: 5px;">In this round you are endowed with:</p>

<div id="endowmentDiv" class="endowment-container row" style="margin-bottom: 8px">
    <div class="endowment-div col-sm div_box">
    <table id="endowmentTable" style="width: 100%;">
    <tr style="display: none;">
        <th>Your role</th>
        <td id="traderRole">
            {{ if player.isObserver }} Inactive observer {{ else }} Trader {{ endif }}
        </td>
    </tr>
        {{ if not player.isObserver }}
     <tr>
        <th style="width: 80%;">Money</th>
        <td id="cashHolding" style="text-align: right; width: 20%;">{{ player.cashHolding }}</td>
    </tr>
    <tr>
        <th style="width: 80%;">{% if player.framing == 'environmental' or player.framing == 'destruction' %}Carbon credits{% else %}Assets{% endif %}</th>
        <td id="assetsHolding" style="text-align: right; width: 20%;">{{ player.assetsHolding }}</td>
    </tr>
    <tr> {{ if player.allowShort }}
        <th>Your short selling limit</th>
        <td id="capShort">
            {{ player.capShort }}
        </td>
        {{ else }} {{ endif }}
    </tr>

    <tr> {{ if player.allowLong }}
        <th>Your credit limit</th>
        <td id="capLong">
            {{ player.capLong }}
        </td>
        {{ else }} {{ endif }}
    </tr>
  
    {{ else }} {{ endif }}
    </table>
    </div>
</div>

<p style="margin-top: 8px; margin-bottom: 5px;">The available goods have the following characteristics:</p>

<div style="margin-bottom: 8px;">
    <div class="endowment-container row" style="margin-bottom: 0px;">
        <div class="endowment-div col-sm div_box" style="margin-right: 20px;">
            <p style="margin-bottom: 4px; text-align: left; font-size: 1rem; font-weight: bold;">Good A</p>
            <table id="goodATable" style="width: 100%;">
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">Money price</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodA_money_price }}</strong></td>
            </tr>
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">{% if player.framing == 'environmental' or player.framing == 'destruction' %}Carbon price{% else %}Asset price{% endif %}</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodA_carbon_price }}</strong></td>
            </tr>
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">Satisfaction points</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodA_marginal_utility }}</strong></td>
            </tr>
            </table>
        </div>
        <div class="endowment-div col-sm div_box">
            <p style="margin-bottom: 4px; text-align: left; font-size: 1rem; font-weight: bold;">Good B</p>
            <table id="goodBTable" style="width: 100%;">
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">Money price</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodB_money_price }}</strong></td>
            </tr>
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">{% if player.framing == 'environmental' or player.framing == 'destruction' %}Carbon price{% else %}Asset price{% endif %}</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodB_carbon_price }}</strong></td>
            </tr>
            <tr>
                <th style="text-align: left; font-weight: normal; width: 80%;">Satisfaction points</th>
                <td style="text-align: right; width: 20%;"><strong>{{ goodB_marginal_utility }}</strong></td>
            </tr>
            </table>
        </div>
    </div>
</div>

{% if not player.isObserver and has_other_players %}
<p style="margin-top: 12px; margin-bottom: 5px;">Note that the other participants in your group:</p>
<ul style="margin-bottom: 20px;">
    <li>Have the same assigned {% if player.framing == 'environmental' or player.framing == 'destruction' %}carbon credit{% else %}asset{% endif %} endowment.</li>
    <li>Have {% if is_heterogeneous %}different assigned money endowments{% else %}the same assigned money endowment{% endif %}{% if is_heterogeneous %}: {{ cash_values_display }}{% else %} of {{ homogeneous_cash }}{% endif %}.</li>
    <li>May have different assigned satisfaction points.</li>
</ul>
{% endif %}
<br>
    {{ next_button }}
{{ endblock }}